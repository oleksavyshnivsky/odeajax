let loadJS=(e,t,r)=>{var o=document.createElement("script");o.src=e,o.onload=t,o.onreadystatechange=t,r.appendChild(o)},MAIN=document.querySelector("#main")||document.querySelector("main")||document.querySelector("body"),ODEAJAX={performing:!1,baseoptions:{append:!1,before:!1,callback:!1,confirm:!1,data:!1,history:!1,method:"GET",prepend:!1,scroll:MAIN,target:MAIN,timeout:3e4},readOptions:e=>{let t={};t.append=e.hasAttribute("data-oa-append"),t.prepend=e.hasAttribute("data-oa-prepend"),t.before=e.dataset.oaBefore,t.callback=e.dataset.oaCallback,t.confirm=e.dataset.oaConfirm;var r=e.dataset.oaTarget?e.dataset.oaTarget.split(";"):[];return 1<r.length&&r.every(e=>!(t.target=document.querySelector(e))),t.target||(t.target=document.querySelector(e.dataset.oaTarget)||e.closest("[data-oa-main]")||MAIN),t.history=!!e.hasAttribute("data-oa-history")||t.target===MAIN,t.scroll=!!e.hasAttribute("data-oa-scroll")&&(e.dataset.oaScroll?document.querySelector(e.dataset.oaScroll):t.target),t.scroll||t.target!==MAIN||(t.scroll=t.target),parseInt(e.dataset.oaTimeout)&&(t.timeout=parseInt(e.dataset.oaTimeout)),"FORM"===e.nodeName&&(t.method=(e.getAttribute("method")||"GET").toUpperCase()),"FORM"===e.nodeName&&(t.form=e,t.oaResetOnCancel=e.hasAttribute("data-oa-reset-on-cancel"),"GET"!==t.method)&&(t.data=new FormData(e)),t},doAjax:(e,r)=>{if(ODEAJAX.performing)return!1;if((r={...ODEAJAX.baseoptions,...r}).confirm&&!confirm(r.confirm))return r.oaResetOnCancel&&r.form.reset(),!1;if(r.before&&"function"==typeof window[r.before]&&!window[r.before]())return!1;let o=!1;e=new URL(e,window.location.href).href,r.history&&e!==window.location.href&&(history.pushState({href:e},"",e),o=!0);var t=new Headers,a=(t.append("X-Requested-With","XMLHttpRequest"),r.enctype&&t.append("Content-Type",r.enctype),{});a.method=r.method,a.headers=t,"GET"!==r.method&&r.data&&(a.body=r.data),r.timeout&&(a.signal=AbortSignal.timeout(r.timeout)),ODEAJAX.performing=!0,fetch(e,a).then(async e=>{var t;ODEAJAX.performing=!1,e.ok&&(r.history&&e.url!==window.location.href&&(o?history.replaceState({href:e.url},"",e.url):history.pushState({href:e.url},"",e.url)),t=e.headers.get("content-type"))&&t.includes("application/json")?(t=await e.json(),ODEAJAX.showResponse(t,r),"function"==typeof window[r.callback]&&window[r.callback](e,r),!0===r.scroll&&(r.scroll=r.target),r.scroll&&r.scroll.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})):ODEAJAX.showError(await e.text(),r)}).catch(e=>{ODEAJAX.performing=!1,ODEAJAX.showError(e,r)})},submit:e=>{var t=e.getAttribute("action"),r="GET"===e.getAttribute("method").toUpperCase(),t=t||(r?window.location.protocol+"//"+window.location.host+window.location.pathname:window.location.href);r&&(t+=(-1<t.indexOf("?")?"&":"?")+new URLSearchParams(new FormData(e)).toString()),ODEAJAX.doAjax(t,ODEAJAX.readOptions(e))},showAlerts:e=>{Array.from(e).forEach(e=>vNotify[e.function](e))},showResponse:(e,t)=>{var r,o;e.success&&e.html&&(r=(new DOMParser).parseFromString(e.html,"text/html"),o=ODEAJAX._getPartialHtml(r,t.target),ODEAJAX._insertHtml(t.target,o,t),ODEAJAX._executeScripts(r,t.target),t.history)&&(document.title=e.title||r.title),e.alerts&&ODEAJAX.showAlerts(e.alerts)},_getPartialHtml:(e,t)=>{if(t?.id){t=e.getElementById(t.id);if(t)return t.innerHTML}return(e.documentElement||e).innerHTML},_insertHtml:(e,t,r)=>{e&&(r.append?(e.scrollIntoView({block:"end",inline:"end"}),e.insertAdjacentHTML("beforeend",t)):r.prepend?(e.scrollIntoView({block:"start",inline:"start"}),e.insertAdjacentHTML("afterbegin",t)):e.innerHTML=t)},_executeScripts:(e,t)=>{(e.querySelectorAll?e.querySelectorAll("script"):[]).forEach(e=>{if(e.src)loadJS(e.src,null,t);else try{(0,eval)(e.innerText)}catch(e){console.error("Script execution error in loaded content:",e)}})},showError:(e,t)=>{console.error("ODEAJAX Error:",e),"undefined"!=typeof vNotify?vNotify.danger({title:"AJAX Error",text:"string"==typeof e?e:e.message||"Unknown error occurred"}):alert("AJAX Error: "+("string"==typeof e?e:e.message||"Unknown error occurred"))}};history.replaceState({href:window.location.href},null,window.location.href),document.addEventListener("DOMContentLoaded",e=>{window.addEventListener("popstate",e=>{if(window.location.hash)return!1;ODEAJAX.doAjax(e.state.href,{history:!1})}),document.querySelector("body").addEventListener("click",e=>{var t,e=e.target.closest("[data-close]");e&&((t=e.closest("[data-closable]"))?t.innerHTML="":e.dataset.close&&ODEAJAX.doAjax(e.dataset.close))}),document.querySelector("body").addEventListener("click",e=>{if(0<e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)return!0;var t=e.target.closest("a[data-oa]");t&&(e.preventDefault(),ODEAJAX.doAjax(t.href,ODEAJAX.readOptions(t)))}),document.querySelector("body").addEventListener("click",e=>{var e=e.target.closest("a[data-oa-submit]");e&&(e=e.dataset.oaSubmit?document.querySelector(e.dataset.oaSubmit):e.closest("form"),ODEAJAX.submit(e))}),document.querySelector("body").addEventListener("submit",e=>{e.target.hasAttribute("data-oa")&&(e.preventDefault(),e.submitter&&e.submitter.hasAttribute("formaction")&&e.target.setAttribute("action",e.submitter.formAction),ODEAJAX.submit(e.target))}),document.querySelector("body").addEventListener("change",e=>{e.target.hasAttribute("data-oa-submit")&&ODEAJAX.submit(e.target.form)})});