var loadJS=function(a,b,d){var c=document.createElement("script");c.src=a;c.onload=b;c.onreadystatechange=b;d.appendChild(c)},ODEURL={parse:function(a){return/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(a)},build:function(a){return a[1]+":"+a[2]+a[3]+(a[4]?":"+a[4]:"")+(a[5]?"/"+a[5]:"")+(a[6]?"?"+a[6]:"")+(a[7]?"#"+a[7]:"")},getParameter:function(a,b){return decodeURI((RegExp(b+"=(.+?)(&|$)").exec(a)||[,null])[1])},removeParameter:function(a,
b){return a.replace(new RegExp("&?"+b+"=([^&]$|[^&#]*)","i"),"")},addParameter:function(a,b,d){a=ODEURL.removeParameter(a,b);b=b+"="+encodeURIComponent(d);a=ODEURL.parse(a);a[6]=a[6]?a[6]+"&":"";a[6]+=b;return ODEURL.build(a)}},ODEAJAX={performing:!1};ODEAJAX.baseoptions={before:!1,callback:!1,confirm:!1,data:!1,history:!1,method:"GET",scroll:document.querySelector("#main"),target:document.querySelector("#main")};
ODEAJAX.readOptions=function(a){var b={};b.before=a.dataset.oaBefore;b.callback=a.dataset.oaCallback;b.confirm=a.dataset.oaConfirm;var d=a.dataset.oaTarget?a.dataset.oaTarget.split(";"):[];1<d.length?d.every(function(c){return!(b.target=document.querySelector(c))}):b.target=document.querySelector(a.dataset.oaTarget)||a.closest("[data-oa-main]")||document.querySelector("#main");b.scroll=a.hasAttribute("data-oa-scroll")?a.dataset.oaScroll?document.querySelector(a.dataset.oaScroll):b.target:!1;b.scroll||
"main"!==b.target.id||(b.scroll=b.target);"FORM"===a.nodeName&&(b.method=(a.getAttribute("method")||"GET").toUpperCase());b.url="FORM"===a.nodeName?a.getAttribute("action"):a.href;"FORM"!==a.nodeName||b.url||(b.url="POST"===b.method?window.location.href:window.location.protocol+"//"+window.location.host+window.location.pathname);b.history="main"===b.target.id?!0:a.hasAttribute("data-oa-history");"FORM"===a.nodeName&&(b.form=a,b.oaResetOnCancel=a.dataset.oaResetOnCancel,b.data=new FormData(a),b.data&&
"GET"===b.method&&(b.url+=(-1<b.url.indexOf("?")?"&":"?")+(new URLSearchParams(b.data)).toString(),b.data=!1));return b};
ODEAJAX.doActualAjax=function(a){return new Promise(function(b,d){ODEAJAX.performing=!0;a.history&&a.url!==window.location.href&&history.pushState({href:a.url},"",a.url);var c=new XMLHttpRequest;c.open(a.method,a.url);c.setRequestHeader("X-Requested-With","XMLHttpRequest");a.enctype&&c.setRequestHeader("Content-Type",a.enctype);c.onload=function(){ODEAJAX.performing=!1;if(200===c.status){a.history&&c.responseURL!==window.location.href&&history.replaceState({href:c.responseURL},"",c.responseURL);try{b(JSON.parse(c.response))}catch(e){d(c)}}else d(c)};
c.send(a.data)})};
ODEAJAX.doAjax=function(a){a=Object.assign({},ODEAJAX.baseoptions,a);if(a.confirm&&!confirm(a.confirm))return a.oaResetOnCancel&&option.form.reset(),!1;if(a.before&&"function"===typeof window[a.before]&&!window[a.before]())return!1;ODEAJAX.doActualAjax(a).then(function(b){ODEAJAX.showResponse(b,a);if("function"===typeof window[a.callback])window[a.callback](b,a);a.scroll&&a.scroll.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})})["catch"](function(b){ODEAJAX.showError(b,a)})};
ODEAJAX.doForm=function(a){a.preventDefault();if(ODEAJAX.performing)return!1;a.submitter&&a.submitter.hasAttribute("formaction")&&a.delegateTarget.setAttribute("action",a.submitter.formAction);ODEAJAX.doAjax(ODEAJAX.readOptions(a.delegateTarget))};ODEAJAX.showAlerts=function(a){Array.from(a).forEach(function(b){vNotify[b["function"]]({text:b.text,title:b.title,fadeInDuration:10,position:vNotify.positionOption.bottomRight})})};
ODEAJAX.showResponse=function(a,b){if(a.success)if(a.html){var d=(new DOMParser).parseFromString(a.html,"text/html");if(b.target.id){var c=d.getElementById(b.target.id);c&&(a.html=c.innerHTML,d=c)}b.target.innerHTML=a.html;d.querySelectorAll("script").forEach(function(e){e.src?loadJS(e.src,null,b.target):eval(e.innerText)});b.history&&(document.title=a.title)}else document.querySelector(b.target).innerHTML='<i class="fa fa-check fa-fw text-success animated bounceOutUp" aria-hidden="true"></i>';a.alerts&&
ODEAJAX.showAlerts(a.alerts)};ODEAJAX.showError=function(a,b){b.target.innerHTML='<div class="alert alert-danger">'+(a.responseText?a.responseText:a.statusText)+"</div>"};history.replaceState({href:window.location.href},null,window.location.href);
docReady(function(){window.addEventListener("popstate",function(a){if(window.location.hash)return!1;ODEAJAX.doAjax({history:!1,url:a.state.href})});document.addEventListener("click",function(a){(a.path||a.composedPath&&a.composedPath()).every(function(b){if("BODY"===b.nodeName||"HTML"===b.nodeName)return!1;if(b.hasAttribute("data-close")){var d=b.closest("[data-closable]");d?d.innerHTML="":b.dataset.close&&ODEAJAX.doAjax({url:b.dataset.close});return!1}if("A"===b.nodeName&&b.hasAttribute("data-oa")){if(0<
a.button||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey)return!0;a.preventDefault();a.delegateTarget=b;if(ODEAJAX.performing)return!1;ODEAJAX.doAjax(ODEAJAX.readOptions(a.delegateTarget));return!1}return"A"===b.nodeName&&b.hasAttribute("data-oa-submit")?(a.delegateTarget=b.dataset.oaSubmit?document.querySelector(b.dataset.oaSubmit):b.closest("form"),ODEAJAX.doForm(a),!1):!0})});document.addEventListener("submit",function(a){a.target.hasAttribute("data-oa")&&(a.delegateTarget=a.target,ODEAJAX.doForm(a))});
document.addEventListener("change",function(a){a.target.hasAttribute("data-oa-submit")&&(a.delegateTarget=a.target.form,ODEAJAX.doForm(a))})});